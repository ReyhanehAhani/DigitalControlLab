# عنوان پروژه:‌بازی فوتبال دو به دو

## نام اعضای گروه و نقش آنها
1. ریحانه آهنی، نوشتن کد مهاجم، توسعه کنترلر های آن و کلاس PID، نوشتن کد دروازه بان، تهیه فیلم مهاجم
2. فاطمه رفیعی، توسعه کد دروازه بان و کنترلر، تهیه فیلم دروازه بان

## توضیح عملکرد کد
کد پروژه به دو قسمت مهاجم و مدافع تقسیم شده و با استفاده از کلاس PIDController مقادیر مختلف را تنظیم و اهداف مختلف را اجرا می کند. 

## ارائه استراتژی های استفاده شده
### مهاجم
مهاجم ابتدا سعی می کند به دنبال توپ بگردد، درصورتی که نتواند محل توپ را پیدا کند منتظر می ماند تا یا توپ به او نزدیک شود یا از طرف دوازه بان مختصات توپ نسبت به دروازه بان و مختصات خود دروازه بان دریافت کند. پس از پیدا کردن توپ سعی میکند از فاصله و زاویه ای که با توپ دارد به عنوان ارور استفاده کند و با کنترلر به سمت توپ می رود. پس از آن سعی می کند زاویه خود و توپ را به سمت دروازه حریف نزدیک کند و به سمت آن شوت می کند (‌با حرکت در یک جهت با تمام قدرت)
### مدافع
مدافع سعی می کند در محل خود در دروازه بایستد،  پس از آن درصورتی که توپ را مشاهده کند به مهاجم پاسخ میدهد و به سمت آن میرود و آن را شوت می کند. سپس پس از مدتی به محل قبلی خود باز می گردد. درصورتی که توپ را مشاهده نکند بطور مداوم به عقب و جلو میرود تا توسط داور از بازی خارج یا teleport نشود. 

##  معرفی کنترل کننده های مورد استفاده
### مهاجم
1. کنترلر موقعیت روبات بر اساس موقعیت توپ: در این کنترلر مقدار P کم است، زیرا با کنترلر ۲ هم زمان اجرا میشود و اگر موتور سرعت بالایی داشته باشد باعث اشباع آن و رفع نشدن خطای زاویه میشود. همچنین میزان I آن بالاست زیرا اگر روبات به توپ نزدیک باشد تغییر ناگهانی و ناپایداری باعث خارج شدن توپ از محدوده دسترس روبات میشود. 
2. کنترلر زاویه روبات بر اساس زاویه توپ:‌در این کنترلر مقدار P بیشتر است،زیرا در فرمول کنترل سرعت موتور ها، زاویه نقش کمتری دارد و به همین دلیل Gain بالاتری دارد. همچنین میزان I آن بالاست زیرا اگر روبات به توپ نزدیک باشد تغییر ناگهانی و ناپایداری باعث خارج شدن توپ از محدوده دسترس روبات میشود. 
3. کنترلر موقعیت روبات بر اساس موقعیت دورازه حریف: این کنترلر بطور تکی اجرا میشود و فقط باید حرکت روبات به یک جهت میشود، به همین اشباع شدن موتور های روبات مشکلی ندارد و به همین دلیل P بالا است. و برای افزایش سرعت واکنش کنترلر D نیز افزایش پیدا کرده. 
4. کنترلر زاویه روبات بر اساس موقعیت دورازه حریف:‌ این کنترلر بطور تکی اجرا میشود و باعث تنظیم زاویه توپ و روبات به سمت دروازه حریف میشود. به همین دلیل سرعت در آن باید کمتر باشد و دقت بالاتری داشته باشد، به همین دلیل مقدار P کم و مقدار I و محدوده آن بیشتر است. 
 همه کنترلر ها از روش گسسته سازی بک وارد استفاده میکنند.
### دروازه بان
1. کنترلر موقعیت روبات بر اساس موقعیت توپ: در این کنترلر مقدار P کم است، زیرا با کنترلر ۲ هم زمان اجرا میشود و اگر موتور سرعت بالایی داشته باشد باعث اشباع آن و رفع نشدن خطای زاویه میشود. همچنین میزان I آن بالاست زیرا اگر روبات به توپ نزدیک باشد تغییر ناگهانی و ناپایداری باعث خارج شدن توپ از محدوده دسترس روبات میشود. 
2. کنترلر زاویه روبات بر اساس زاویه توپ:‌در این کنترلر مقدار P بیشتر است،زیرا در فرمول کنترل سرعت موتور ها، زاویه نقش کمتری دارد و به همین دلیل Gain بالاتری دارد. همچنین میزان I آن بالاست زیرا اگر روبات به توپ نزدیک باشد تغییر ناگهانی و ناپایداری باعث خارج شدن توپ از محدوده دسترس روبات میشود. 
3. کنترلر موقعیت روبات بر اساس موقعیت دورازه حریف: این کنترلر بطور تکی اجرا میشود و فقط باید حرکت روبات به یک جهت میشود، به همین اشباع شدن موتور های روبات مشکلی ندارد و به همین دلیل P بالا است. و برای افزایش سرعت واکنش کنترلر D نیز افزایش پیدا کرده. 
4. کنترلر زاویه روبات بر اساس موقعیت دورازه حریف:‌ این کنترلر بطور تکی اجرا میشود و باعث تنظیم زاویه توپ و روبات به سمت دروازه حریف میشود. به همین دلیل سرعت در آن باید کمتر باشد و دقت بالاتری داشته باشد، به همین دلیل مقدار P کم و مقدار I و محدوده آن بیشتر است. 
5. کنترلر موقعیت روبات در هنگام جای گیری:‌این کنترلر بطور تکی اجرا میشود و فقط باید حرکت روبات به یک جهت میشود، به همین اشباع شدن موتور های روبات مشکلی ندارد و به همین دلیل P بالا است. و برای افزایش سرعت واکنش کنترلر D نیز افزایش پیدا کرده. 
6. کنترلر زاویه روبات در هنگام جای گیری:‌  این کنترلر بطور تکی اجرا میشود و باعث تنظیم روبات به زاویه مورد نظر در کد میشود. زاویه های استفاده شده در کد نیز زاویه های راست هستند به همین دلیل اشباع شدن موتور های روبات مشکلی ندارد و به همین دلیل P بالا است.

##  مزایا و نوآوری های احتمالی
1. استفاده از قابلیت communicate و ارسال پیام میان بازیکنان تیم. 
2. تغییر میان کنترلر های مختلف


# بخش اختیاری
## شیوه استفاده از کد
## نیازمندی ها
+ نرم افزار Webots
+ نسخه پایتون حداقل 3.8
+ نرم افزار Git
+ محیط شبیه سازی
### شیوه نصب نیازمندی ها
#### نرم افزار Webots
نرم افزار Webots یک برنامه دسکتاپ منبع باز و چند پلتفرمی است که برای شبیه سازی ربات ها استفاده می شود. این یک محیط توسعه کامل برای مدل‌سازی، برنامه‌نویسی و شبیه‌سازی روبات‌ها را فراهم می‌کند.
این برای استفاده حرفه ای طراحی شده است و به طور گسترده در صنعت، آموزش و پژوهش استفاده می شود. Cyberbotics Ltd. از سال 1998 به طور مداوم Webbots را به عنوان محصول اصلی خود حفظ می کند.
در این پروژه از این نرم افزار برای شبیه سازی محیط استفاده میشود.
برای نصب آن کافی است به [وبسایت رسمی](https://cyberbotics.com/) آن مراجعه کنید. در صفحه اصلی با استفاده از دکمه Download می توانید نرم افزار را دریافت و نصب کنید. مراحل نصب بطور کاملتر و با جزئیات بیشتر را می توانید در [وبسایت رسمی مستندات](https://cyberbotics.com/doc/guide/installing-webots) آن مشاهده کنید. 
#### مفسر پایتون
پایتون یک زبان برنامه‌نویسی شیءگرا، تفسیری، سطح بالا، و همه منظوره است. در این پروژه برای کنترل روبات ها از زبان پایتون و مفسر آن استفاده شده است. 
##### لینوکس
در بیشتر توزیع های لینوکس، نسخه ای از پایتون بطور کلی نصب قابل اجرا است. برای بررسی آن میتوانید از دستور زیر استفاده کنید:‌

	python --version
در صورت نصب بودن پایتون، خروجی ای مشابه زیر دریافت خواهید کرد:

	Python x.xx.xx
که بجای x نسخه نصب شده را نشان میدهد. در صورتی که نسخه پایتون حداقل 3.8 نبود، با توجه به مدیر نرم افزار توزیع خود میتوانید نسخه جدیدتر را دریافت و نصب کنید، به عنوان مثال در اوبونتو از مدیر نرم افزار `apt` و دستور زیر برای نصب بسته نرم افزاری استفاده میشود:‌

	sudo apt install package

##### ویندوز و مک
برای نصب آن کافی است به [وبسایت رسمی](https://www.python.org/) آن مراجعه کنید. در صفحه اصلی با استفاده از دکمه Download می توانید نرم افزار را دریافت و نصب کنید. مراحل نصب بطور کاملتر و با جزئیات بیشتر را می توانید در [وبسایت رسمی مستندات](https://wiki.python.org/moin/BeginnersGuide/Download) آن مشاهده کنید. 
#### نرم افزار Git
گیت یک نرم‌افزار کنترل نسخه می‌باشد و در این پروژه برای نگه داری تغییرات کد و دریافت محیط شبیه سازی از گیت هاب استفاده می شود. برای بررسی نصب بودن آن میتوانید از دستور زیر استفاده کنید:‌

	git --version
 که خروجی مشابه زیر میدهد:‌

	git version x.xx.x
که در اینجا x نشان دهنده نسخه آن است. 
 در صورت نبود گیت، میتوانید از دستورات زیر استفاده کنید.
##### لینوکس
برای نصب Git در لینوکس باید از مدیر نرم افزار توزیع خود استفاده کنید. در توزیع هایی مانند اوبونتو این نرم افزار `apt` می باشد و با استفاده از دستور زیر میتوان Git را نصب کرد. 

	sudo apt install git
##### ویندوز و مک
برای نصب آن کافی است به [وبسایت رسمی](https://git-scm.com/downloads) آن مراجعه کنید. در صفحه اصلی با استفاده از دکمه Download می توانید نرم افزار را دریافت و نصب کنید. مراحل نصب بطور کاملتر و با جزئیات بیشتر را می توانید در [وبسایت رسمی مستندات](https://git-scm.com/docs) آن مشاهده کنید. 
#### محیط شبیه سازی
برای دریافت محیط شبیه سازی، ابتدا نرم افزار Git را نصب کنید. سپس با استفاده از دستور زیر مخزن محیط شبیه سازی را در کامپیوتر خود ذخیره کنید:

	git clone https://github.com/autdigitalcontrollab/azdigital.git
سپس نرم افزار Webots را باز کرده و پرونده زیر را از پوشه دریافتی انتخاب کنید:‌

	CLONED_DIR/worlds/soccer.wbt

شما محیط شبیه سازی را به درستی باز کردید!
بعد از آن کافی است با استفاده در یک ویرایشگر متن ( یا کد )‌ پرونده زیر را باز کنید و محتویات فایل پروژه را در آن قرار دهید. 

	CLONED_DIR/controllers/rcj_soccer_team_blue/robot1.py

برای اجرای محیط شبیه سازی، با استفاده از کلید های Ctrl+Shift+R محیط را دوباره بارگزاری کنید و با استفاده از کلید های Ctrl+2 شبیه سازی را اجرا کنید. 
